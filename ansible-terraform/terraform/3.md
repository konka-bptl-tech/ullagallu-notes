### 🔢 **count**

* Creates **identical resources**.
* Access with `count.index`.
* ❗ Changing length can destroy and recreate resources.

---

### 🧩 **for\_each**

* Creates resources from **map or set**.
* Access with `each.key` / `each.value`.
* ✅ Affects only the changed key.

---

### 🔁 **for**

* Loops inside **expressions**, not for creating resources.
* Used in locals, dynamic blocks, outputs, etc.

---

### ❓ **condition (ternary)**

* Format: `condition ? true_value : false_value`.
* Acts like a simple **if-else**.

---

### 📦 **dynamic block**

* Used to **loop nested blocks**, like in security group rules.
* Example: repeat `from_port`, `to_port`, `cidr_blocks`, etc.

---

### 📏 **length()**

* Gets number of items in a **list**, **map**, or **string**.

---

### 🔗 **merge()**

* Combines multiple **maps** into a single map.

---

### 🧬 **join()**

* Joins list of strings with a **separator**.
  → `join(",", ["a", "b"]) → "a,b"`

---

### ✂️ **split()**

* Splits a string into a list using a **separator**.
  → `split(",", "a,b") → ["a", "b"]`

---

### 🔍 **lookup()**

* The lookup() function is used to safely retrieve a value from a map. If the key doesn't exist, it returns a default value instead of throwing an error.
  → `lookup(map, "key", "default")`

✅ Prevents errors if key doesn’t exist.

```hcl
variable "env_settings" {
  default = {
    dev  = "t2.micro"
    prod = "t3.large"
  }
}

output "instance_type" {
  value = lookup(var.env_settings, "test", "t2.small")
}
```

### 🛡️ Why use `lookup()`?

* Avoids runtime errors if a key is missing.
* Makes your Terraform configs more **fault-tolerant**.

---



---

### 🛡️ **try()**

* Returns the **first valid (non-error)** expression.
  → `try(expr1, expr2, default)`

✅ Avoids crashes due to missing or invalid values.

---
